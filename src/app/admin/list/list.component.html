<div>
  <button nz-button [nzType]="'default'" (click)="changeEditMode()"> 
    <span *ngIf='!isEditMode'>編輯</span>
    <span *ngIf='isEditMode'>結束編輯</span>
  </button>
  <button *ngIf='isEditMode' nz-button [nzType]="'danger'" (click)="update()"> 
    <span>確認</span>
  </button>
</div>
<nz-table>
  <thead nz-thead>
    <tr>
      <th nz-th><span>Name</span></th>
      <th nz-th><span>grade</span></th>
      <th nz-th><span>email</span></th>
      <th nz-th><span>上週抽中</span></th>
      <th nz-th><span>連續沒中次數</span></th>
      <th nz-th><span>抽中幾次</span></th>
      <th nz-th><span>缺席次數</span></th>
      <th nz-th><span>停權</span></th>
    </tr>
  </thead>
  <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let d of data" (change)="record(d)">
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.name}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.name"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.grade}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.grade"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.email}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.email"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.lastBeSelected}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.lastBeSelected"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.unluckyTimes}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.unluckyTimes"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.winTimes}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.winTimes"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.absentTimes}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.absentTimes"></nz-input>
        </div>
      </td>
      <td nz-td>
        <div *ngIf='!isEditMode'>{{d.suspensive}}</div>
        <div *ngIf='isEditMode'>
          <nz-input [(ngModel)]="d.suspensive"></nz-input>
        </div>
      </td>

    </tr>
  </tbody>
</nz-table>
